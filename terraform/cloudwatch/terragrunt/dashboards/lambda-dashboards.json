{
  "lambda_overview": {
    "name": "lambda-overview-${environment}",
    "dashboard_body": {
      "widgets": [
        {
          "type": "metric",
          "x": 0,
          "y": 0,
          "width": 12,
          "height": 6,
          "properties": {
            "metrics": [
              ["AWS/Lambda", "Invocations", "FunctionName", "scm-batch-processor-read-s3"],
              [".", "Errors", ".", "."],
              [".", "Duration", ".", "."]
            ],
            "period": 300,
            "stat": "Sum",
            "region": "${region}",
            "title": "Lambda Function Metrics - Read S3"
          }
        },
        {
          "type": "metric",
          "x": 12,
          "y": 0,
          "width": 12,
          "height": 6,
          "properties": {
            "metrics": [
              ["AWS/Lambda", "Invocations", "FunctionName", "scm-batch-processor-update-records"],
              [".", "Errors", ".", "."],
              [".", "Duration", ".", "."]
            ],
            "period": 300,
            "stat": "Sum",
            "region": "${region}",
            "title": "Lambda Function Metrics - Update Records"
          }
        },
        {
          "type": "metric",
          "x": 0,
          "y": 6,
          "width": 12,
          "height": 6,
          "properties": {
            "metrics": [
              ["AWS/Lambda", "Invocations", "FunctionName", "scm-batch-processor-send-to-kafka"],
              [".", "Errors", ".", "."],
              [".", "Duration", ".", "."]
            ],
            "period": 300,
            "stat": "Sum",
            "region": "${region}",
            "title": "Lambda Function Metrics - Send to Kafka"
          }
        },
        {
          "type": "metric",
          "x": 12,
          "y": 6,
          "width": 12,
          "height": 6,
          "properties": {
            "metrics": [
              ["AWS/Lambda", "Invocations", "FunctionName", "scm-batch-processor-send-to-sqs-core"],
              [".", "Errors", ".", "."],
              [".", "Duration", ".", "."]
            ],
            "period": 300,
            "stat": "Sum",
            "region": "${region}",
            "title": "Lambda Function Metrics - Send to SQS"
          }
        }
      ]
    }
  },
  "lambda_errors": {
    "name": "lambda-errors-${environment}",
    "dashboard_body": {
      "widgets": [
        {
          "type": "metric",
          "x": 0,
          "y": 0,
          "width": 24,
          "height": 6,
          "properties": {
            "metrics": [
              ["AWS/Lambda", "Errors", "FunctionName", "scm-batch-processor-read-s3"],
              [".", "Errors", "FunctionName", "scm-batch-processor-update-records"],
              [".", "Errors", "FunctionName", "scm-batch-processor-send-to-kafka"],
              [".", "Errors", "FunctionName", "scm-batch-processor-send-to-sqs-core"]
            ],
            "period": 300,
            "stat": "Sum",
            "region": "${region}",
            "title": "Lambda Function Errors",
            "view": "timeSeries",
            "stacked": false
          }
        },
        {
          "type": "metric",
          "x": 0,
          "y": 6,
          "width": 24,
          "height": 6,
          "properties": {
            "metrics": [
              ["AWS/Lambda", "Duration", "FunctionName", "scm-batch-processor-read-s3"],
              [".", "Duration", "FunctionName", "scm-batch-processor-update-records"],
              [".", "Duration", "FunctionName", "scm-batch-processor-send-to-kafka"],
              [".", "Duration", "FunctionName", "scm-batch-processor-send-to-sqs-core"]
            ],
            "period": 300,
            "stat": "Average",
            "region": "${region}",
            "title": "Lambda Function Duration",
            "view": "timeSeries",
            "stacked": false
          }
        }
      ]
    }
  }
} 